# Root homepage - /en redirects to / (clean URL)
/en  /  301

# Static files - serve directly (MUST come before SPA routes)
/sitemap.xml  /sitemap.xml  200
/sitemap-index.xml  /sitemap-index.xml  200
/ai-sitemap.xml  /ai-sitemap.xml  200
/sitemaps/*  /sitemaps/:splat  200
/robots.txt  /robots.txt  200
/llm.txt  /llm.txt  200
/ai.txt  /ai.txt  200
/facts.json  /facts.json  200
/glossary.json  /glossary.json  200
/pages.json  /pages.json  200

# Pass-through for assets (prevents infinite loop - MUST come before wildcards)
/assets/*  /assets/:splat  200
/flags/*  /flags/:splat  200

# Note: WWW redirect handled by middleware (functions/_middleware.js)

# Legacy property routes - redirect to English versions
/property-finder  /en/properties  301
/property/:reference  /en/property/:reference  301

# Draft content redirects - cleanup Dec 2024 (updated with canonical targets + language prefix)
/blog/bask-in-brilliance-understanding-costa-del-sols-sun-drenched  /en/blog/costa-del-sols-sunny-secret-your-guide-to-daily-sunlight-hou  301
/blog/marbella-vs-mijas-where-does-sunshine-on-the-costa-del-sol-s  /en/blog/beyond-marbella-discovering-the-best-places-to-invest-in-costa-del-sol-for-high-returns  301
/blog/family-fun-vs-romantic-retreat-costa-del-sol-holiday-spots  /en/blog/costa-del-sol-holidays-your-ultimate-guide-to-sun-fun  301
/blog/secure-your-sun-filled-future-new-builds-on-the-costa-del-so  /en/blog/discovering-new-build-homes-in-costa-del-sol-an-introduction-to-climate-resilient-design  301
/blog/spanish-property-taxes-for-uk-irish-buyers-a-complete-guide  /en/blog/a-deep-dive-into-spanish-property-taxes-in-costa-del-sol-what-buyers-must-know  301
/blog/your-sunny-retreat-benalmdena-or-estepona-for-optimum-daily-  /en/blog/choosing-your-ideal-costa-del-sol-property-airport-proximity-vs-lifestyle-zones  301
/blog/costa-del-sol-climate-your-summer-winter-weather-guide  /en/blog/beyond-the-beaches-how-the-costa-del-sol-climate-enhances-outdoor-living  301
/blog/secure-your-dream-home-experience-the-costa-del-sol-climate  /en/blog/beyond-the-beaches-how-the-costa-del-sol-climate-enhances-outdoor-living  301
/blog/sunshine-all-year-understanding-costa-del-sols-climate  /en/blog/beyond-the-beaches-how-the-costa-del-sol-climate-enhances-outdoor-living  301
/blog/adapting-to-costa-del-sol-s-humidity-practical-tips-for-homeowners-and-visitors  /en/blog/beyond-the-beaches-how-the-costa-del-sol-climate-enhances-outdoor-living  301
/blog/comparing-property-tax-rates-in-costa-del-sol-what-uk-and-irish-buyers-pay  /en/blog/a-deep-dive-into-spanish-property-taxes-in-costa-del-sol-what-buyers-must-know  301
/blog/navigating-capital-gains-wealth-tax-in-costa-del-sol-for-foreign-property-owners  /en/blog/calculating-your-investment-a-detailed-guide-to-capital-gains-tax-in-costa-del-sol-for-uk-irish-sellers  301
/blog/the-complete-tax-compliance-checklist-buying-owning-property-in-costa-del-sol  /en/blog/a-deep-dive-into-spanish-property-taxes-in-costa-del-sol-what-buyers-must-know  301

# Catch-all for legacy non-prefixed blog URLs
/blog/*  /en/blog/:splat  301

# Legacy Q&A slug cleanup - Dec 2024 (remove redundant -nl/-sv suffixes)
# Dutch Q&A pages
/nl/qa/beste-manier-gezinshuis-costa-del-sol-kiezen-nl  /nl/qa/beste-manier-gezinshuis-costa-del-sol-kiezen  301
/nl/qa/beste-plek-gezinnen-costa-del-sol-nl  /nl/qa/beste-plek-gezinnen-costa-del-sol  301
/nl/qa/costa-del-sol-gezinsbestemming-info-nl  /nl/qa/costa-del-sol-gezinsbestemming-info  301
/nl/qa/gezin-verhuizen-costa-del-sol-overwegen-nl  /nl/qa/gezin-verhuizen-costa-del-sol-overwegen  301
/nl/qa/luxe-vastgoed-kopen-costa-del-sol-essentiele-stappen-nl  /nl/qa/luxe-vastgoed-kopen-costa-del-sol-essentiele-stappen  301
/nl/qa/overstap-directe-verzekeringscontracten-nl  /nl/qa/overstap-directe-verzekeringscontracten  301
/nl/qa/vastgoed-kopen-wellness-costa-del-sol-besluit-nl  /nl/qa/vastgoed-kopen-wellness-costa-del-sol-besluit  301
/nl/qa/wat-maakt-costa-del-sol-vakanties-onvergetelijk-nl  /nl/qa/wat-maakt-costa-del-sol-vakanties-onvergetelijk  301

# Swedish Q&A pages
/sv/qa/vad-erbjuder-semester-costa-del-sol-sv  /sv/qa/vad-erbjuder-semester-costa-del-sol  301
/sv/qa/vad-gor-costa-del-sol-till-en-familjevänlig-destination-sv  /sv/qa/vad-gor-costa-del-sol-till-en-familjevänlig-destination  301
/sv/qa/valja-basta-lyxfastigheten-costa-del-sol-tips-sv  /sv/qa/valja-basta-lyxfastigheten-costa-del-sol-tips  301
/sv/qa/valja-familjehem-costa-del-sol-tips-misstag-sv  /sv/qa/valja-familjehem-costa-del-sol-tips-misstag  301

# SPA routing for blog articles
/blog/:slug  /blog/:slug/index.html  200

# Explicit villas/apartments rules - MUST come before language homepage rules to prevent cache collision
# Query-param variants → 301 (bypasses CDN cached 404s)
/en/villas?*  /en/villas/properties  301
/nl/villas?*  /nl/villas/properties  301
/fr/villas?*  /fr/villas/properties  301
/de/villas?*  /de/villas/properties  301
/fi/villas?*  /fi/villas/properties  301
/pl/villas?*  /pl/villas/properties  301
/da/villas?*  /da/villas/properties  301
/hu/villas?*  /hu/villas/properties  301
/sv/villas?*  /sv/villas/properties  301
/no/villas?*  /no/villas/properties  301
# Old /villas URLs → 301 to /villas/properties (SEO continuity)
/en/villas  /en/villas/properties  301
/nl/villas  /nl/villas/properties  301
/fr/villas  /fr/villas/properties  301
/de/villas  /de/villas/properties  301
/fi/villas  /fi/villas/properties  301
/pl/villas  /pl/villas/properties  301
/da/villas  /da/villas/properties  301
/hu/villas  /hu/villas/properties  301
/sv/villas  /sv/villas/properties  301
/no/villas  /no/villas/properties  301
# New /villas/properties URLs → serve SPA
/en/villas/properties  /index.html  200
/nl/villas/properties  /index.html  200
/fr/villas/properties  /index.html  200
/de/villas/properties  /index.html  200
/fi/villas/properties  /index.html  200
/pl/villas/properties  /index.html  200
/da/villas/properties  /index.html  200
/hu/villas/properties  /index.html  200
/sv/villas/properties  /index.html  200
/no/villas/properties  /index.html  200
/en/apartments  /index.html  200
/nl/apartments  /index.html  200
/fr/apartments  /index.html  200
/de/apartments  /index.html  200
/fi/apartments  /index.html  200
/pl/apartments  /index.html  200
/da/apartments  /index.html  200
/hu/apartments  /index.html  200
/sv/apartments  /index.html  200
/no/apartments  /index.html  200

# Language-prefixed homepages - serve SSG HTML (MUST come before SPA fallback)
/en   /en/index.html  200
/de   /de/index.html  200
/nl   /nl/index.html  200
/fr   /fr/index.html  200
/pl   /pl/index.html  200
/sv   /sv/index.html  200
/da   /da/index.html  200
/hu   /hu/index.html  200
/fi   /fi/index.html  200
/no   /no/index.html  200

# Buyers Guide - serve SSG HTML
/:lang/buyers-guide  /:lang/buyers-guide/index.html  200

# Q&A pages - serve pre-rendered static HTML (MUST come before SPA fallback)
/:lang/qa/:slug  /:lang/qa/:slug/index.html  200
/:lang/qa  /:lang/qa/index.html  200

# CRM routes - explicit SPA routing (prevents 404 on direct access)
/crm/*  /index.html  200

# SPA routing for language-prefixed app pages
/:lang/properties  /index.html  200
/:lang/property/:reference  /index.html  200

# SPA fallback - MUST BE LAST
/*  /index.html  200
